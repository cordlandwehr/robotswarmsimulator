\hypertarget{class_event_handler}{
\section{EventHandler Class Reference}
\label{class_event_handler}\index{EventHandler@{EventHandler}}
}
The event handler determines, according to some user–specified rules, how to apply the different requests to the world.  


{\tt \#include $<$event\_\-handler.h$>$}

\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
\hypertarget{class_event_handler_899931cda368324db168acba7aa5a887}{
\textbf{EventHandler} (boost::shared\_\-ptr$<$ \hyperlink{class_history}{History} $>$ history, boost::shared\_\-ptr$<$ \hyperlink{class_robot_control}{RobotControl} $>$ robot\_\-control)}
\label{class_event_handler_899931cda368324db168acba7aa5a887}

\item 
void \hyperlink{class_event_handler_07800acaafb8a637a737db625fc9109e}{handle\_\-event} (boost::shared\_\-ptr$<$ Event $>$ event)
\item 
void \hyperlink{class_event_handler_e31e84277a8a143dd4f3e9cc1b88a86f}{register\_\-listener} (boost::shared\_\-ptr$<$ \hyperlink{class_simulation_listener}{SimulationListener} $>$ listener)
\item 
void \hyperlink{class_event_handler_953bd355b1ed7bce3bc226df6dd15f33}{set\_\-position\_\-request\_\-handler} (boost::shared\_\-ptr$<$ VectorRequestHandler $>$ position\_\-request\_\-handler)
\item 
void \hyperlink{class_event_handler_8376abc0ab83ed99a085fefe365ec2ad}{set\_\-velocity\_\-request\_\-handler} (boost::shared\_\-ptr$<$ VectorRequestHandler $>$ velocity\_\-request\_\-handler)
\item 
void \hyperlink{class_event_handler_1c46745262eccd6e515e9cd51b0eabc7}{set\_\-acceleration\_\-request\_\-handler} (boost::shared\_\-ptr$<$ VectorRequestHandler $>$ acceleration\_\-request\_\-handler)
\item 
void \hyperlink{class_event_handler_35b57ae64f42728153b6bd56cf9342c3}{set\_\-marker\_\-request\_\-handler} (boost::shared\_\-ptr$<$ \hyperlink{class_marker_request_handler}{MarkerRequestHandler} $>$ marker\_\-request\_\-handler)
\item 
void \hyperlink{class_event_handler_fbb37099a16ef387487990d7752131d0}{set\_\-type\_\-change\_\-request\_\-handler} (boost::shared\_\-ptr$<$ \hyperlink{class_type_change_request_handler}{TypeChangeRequestHandler} $>$ type\_\-change\_\-request\_\-handler)
\end{CompactItemize}
\subsection*{Private Member Functions}
\begin{CompactItemize}
\item 
void \hyperlink{class_event_handler_fd00be7e6b6992864818853328240765}{handle\_\-look\_\-event} (boost::shared\_\-ptr$<$ \hyperlink{class_look_event}{LookEvent} $>$ look\_\-event)
\item 
void \hyperlink{class_event_handler_f3ab99df81bce4bb5e4981bdcfb10b55}{handle\_\-compute\_\-event} (boost::shared\_\-ptr$<$ \hyperlink{class_compute_event}{ComputeEvent} $>$ compute\_\-event)
\item 
void \hyperlink{class_event_handler_62011b67557528762b8785d3fc47fc3b}{handle\_\-handle\_\-requests\_\-event} (boost::shared\_\-ptr$<$ \hyperlink{class_handle_requests_event}{HandleRequestsEvent} $>$ handle\_\-requests\_\-event)
\item 
void \hyperlink{class_event_handler_3d6dca0a289ea024322496ea83760cc2}{update\_\-listeners} (boost::shared\_\-ptr$<$ Event $>$ event)
\item 
boost::shared\_\-ptr$<$ \hyperlink{class_world_information}{WorldInformation} $>$ \hyperlink{class_event_handler_1795bf1b68f3ed905a99c3e9cbfb3df2}{extrapolate\_\-old\_\-world\_\-information} (int time)
\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
boost::shared\_\-ptr$<$ VectorRequestHandler $>$ \hyperlink{class_event_handler_57ec7074d3a4d5469ca093c3fab461f3}{position\_\-request\_\-handler\_\-}
\item 
\hypertarget{class_event_handler_063c218adbc0fffbba1c213df23e5cab}{
boost::shared\_\-ptr$<$ VectorRequestHandler $>$ \textbf{velocity\_\-request\_\-handler\_\-}}
\label{class_event_handler_063c218adbc0fffbba1c213df23e5cab}

\item 
\hypertarget{class_event_handler_53776ab323c044ec05fa8de746d696a3}{
boost::shared\_\-ptr$<$ VectorRequestHandler $>$ \textbf{acceleration\_\-request\_\-handler\_\-}}
\label{class_event_handler_53776ab323c044ec05fa8de746d696a3}

\item 
\hypertarget{class_event_handler_77b9d85872592b6576a3a4e66e454522}{
boost::shared\_\-ptr$<$ \hyperlink{class_marker_request_handler}{MarkerRequestHandler} $>$ \textbf{marker\_\-request\_\-handler\_\-}}
\label{class_event_handler_77b9d85872592b6576a3a4e66e454522}

\item 
\hypertarget{class_event_handler_acba83eba264e27b64b287800ccda271}{
boost::shared\_\-ptr$<$ \hyperlink{class_type_change_request_handler}{TypeChangeRequestHandler} $>$ \textbf{type\_\-change\_\-request\_\-handler\_\-}}
\label{class_event_handler_acba83eba264e27b64b287800ccda271}

\item 
\hypertarget{class_event_handler_9fb47f68cf1f8abc5285906fc4a6c358}{
vector$<$ boost::shared\_\-ptr$<$ \hyperlink{class_simulation_listener}{SimulationListener} $>$ $>$ \textbf{listeners\_\-}}
\label{class_event_handler_9fb47f68cf1f8abc5285906fc4a6c358}

\item 
\hypertarget{class_event_handler_cc41287a126e8ce4580d2ab10125320f}{
boost::shared\_\-ptr$<$ \hyperlink{class_history}{History} $>$ \textbf{history\_\-}}
\label{class_event_handler_cc41287a126e8ce4580d2ab10125320f}

\item 
\hypertarget{class_event_handler_68947d8eed9fe431ab0321910c2d733a}{
boost::shared\_\-ptr$<$ \hyperlink{class_robot_control}{RobotControl} $>$ \textbf{robot\_\-control\_\-}}
\label{class_event_handler_68947d8eed9fe431ab0321910c2d733a}

\item 
int \hyperlink{class_event_handler_b67300ca48e3809b2dfd428a185053f6}{time\_\-of\_\-last\_\-event\_\-}
\end{CompactItemize}


\subsection{Detailed Description}
The event handler determines, according to some user–specified rules, how to apply the different requests to the world. 

The abstract event handler class provides the following functionality: 1. handle compute and look event by delegation to \hyperlink{class_robot_control}{RobotControl} 2. partly handle HandleRequests events by extrapolating the robot positions and calling the request handlers 3. registering of simulation listeners and updating them when the world changes

In most cases a subclass of \hyperlink{class_event_handler}{EventHandler} should only define custom handle\_\-request functions for the possible requests. If it does not provide a custom implementation for a particular handle\_\-$\ast$\_\-request method, a warning message is issued upon the occurrence of such a request. 

Definition at line 51 of file event\_\-handler.h.

\subsection{Member Function Documentation}
\hypertarget{class_event_handler_07800acaafb8a637a737db625fc9109e}{
\index{EventHandler@{EventHandler}!handle\_\-event@{handle\_\-event}}
\index{handle\_\-event@{handle\_\-event}!EventHandler@{EventHandler}}
\subsubsection[handle\_\-event]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::handle\_\-event (boost::shared\_\-ptr$<$ Event $>$ {\em event})}}
\label{class_event_handler_07800acaafb8a637a737db625fc9109e}


handles the given event. By calling appropriate handlers and updating the listeners. 

Definition at line 37 of file event\_\-handler.cc.

References handle\_\-compute\_\-event(), handle\_\-handle\_\-requests\_\-event(), handle\_\-look\_\-event(), time\_\-of\_\-last\_\-event\_\-, and update\_\-listeners().\hypertarget{class_event_handler_e31e84277a8a143dd4f3e9cc1b88a86f}{
\index{EventHandler@{EventHandler}!register\_\-listener@{register\_\-listener}}
\index{register\_\-listener@{register\_\-listener}!EventHandler@{EventHandler}}
\subsubsection[register\_\-listener]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::register\_\-listener (boost::shared\_\-ptr$<$ {\bf SimulationListener} $>$ {\em listener})}}
\label{class_event_handler_e31e84277a8a143dd4f3e9cc1b88a86f}


registers a new listener. 

Definition at line 179 of file event\_\-handler.cc.\hypertarget{class_event_handler_953bd355b1ed7bce3bc226df6dd15f33}{
\index{EventHandler@{EventHandler}!set\_\-position\_\-request\_\-handler@{set\_\-position\_\-request\_\-handler}}
\index{set\_\-position\_\-request\_\-handler@{set\_\-position\_\-request\_\-handler}!EventHandler@{EventHandler}}
\subsubsection[set\_\-position\_\-request\_\-handler]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::set\_\-position\_\-request\_\-handler (boost::shared\_\-ptr$<$ VectorRequestHandler $>$ {\em position\_\-request\_\-handler})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_event_handler_953bd355b1ed7bce3bc226df6dd15f33}


setter for position request handler 

Definition at line 72 of file event\_\-handler.h.

References position\_\-request\_\-handler\_\-.\hypertarget{class_event_handler_8376abc0ab83ed99a085fefe365ec2ad}{
\index{EventHandler@{EventHandler}!set\_\-velocity\_\-request\_\-handler@{set\_\-velocity\_\-request\_\-handler}}
\index{set\_\-velocity\_\-request\_\-handler@{set\_\-velocity\_\-request\_\-handler}!EventHandler@{EventHandler}}
\subsubsection[set\_\-velocity\_\-request\_\-handler]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::set\_\-velocity\_\-request\_\-handler (boost::shared\_\-ptr$<$ VectorRequestHandler $>$ {\em velocity\_\-request\_\-handler})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_event_handler_8376abc0ab83ed99a085fefe365ec2ad}


setter for velocity request handler 

Definition at line 79 of file event\_\-handler.h.\hypertarget{class_event_handler_1c46745262eccd6e515e9cd51b0eabc7}{
\index{EventHandler@{EventHandler}!set\_\-acceleration\_\-request\_\-handler@{set\_\-acceleration\_\-request\_\-handler}}
\index{set\_\-acceleration\_\-request\_\-handler@{set\_\-acceleration\_\-request\_\-handler}!EventHandler@{EventHandler}}
\subsubsection[set\_\-acceleration\_\-request\_\-handler]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::set\_\-acceleration\_\-request\_\-handler (boost::shared\_\-ptr$<$ VectorRequestHandler $>$ {\em acceleration\_\-request\_\-handler})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_event_handler_1c46745262eccd6e515e9cd51b0eabc7}


setter for acceleration request handler 

Definition at line 86 of file event\_\-handler.h.\hypertarget{class_event_handler_35b57ae64f42728153b6bd56cf9342c3}{
\index{EventHandler@{EventHandler}!set\_\-marker\_\-request\_\-handler@{set\_\-marker\_\-request\_\-handler}}
\index{set\_\-marker\_\-request\_\-handler@{set\_\-marker\_\-request\_\-handler}!EventHandler@{EventHandler}}
\subsubsection[set\_\-marker\_\-request\_\-handler]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::set\_\-marker\_\-request\_\-handler (boost::shared\_\-ptr$<$ {\bf MarkerRequestHandler} $>$ {\em marker\_\-request\_\-handler})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_event_handler_35b57ae64f42728153b6bd56cf9342c3}


setter for marker request handler 

Definition at line 93 of file event\_\-handler.h.\hypertarget{class_event_handler_fbb37099a16ef387487990d7752131d0}{
\index{EventHandler@{EventHandler}!set\_\-type\_\-change\_\-request\_\-handler@{set\_\-type\_\-change\_\-request\_\-handler}}
\index{set\_\-type\_\-change\_\-request\_\-handler@{set\_\-type\_\-change\_\-request\_\-handler}!EventHandler@{EventHandler}}
\subsubsection[set\_\-type\_\-change\_\-request\_\-handler]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::set\_\-type\_\-change\_\-request\_\-handler (boost::shared\_\-ptr$<$ {\bf TypeChangeRequestHandler} $>$ {\em type\_\-change\_\-request\_\-handler})\hspace{0.3cm}{\tt  \mbox{[}inline\mbox{]}}}}
\label{class_event_handler_fbb37099a16ef387487990d7752131d0}


setter for type change request handler 

Definition at line 100 of file event\_\-handler.h.\hypertarget{class_event_handler_fd00be7e6b6992864818853328240765}{
\index{EventHandler@{EventHandler}!handle\_\-look\_\-event@{handle\_\-look\_\-event}}
\index{handle\_\-look\_\-event@{handle\_\-look\_\-event}!EventHandler@{EventHandler}}
\subsubsection[handle\_\-look\_\-event]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::handle\_\-look\_\-event (boost::shared\_\-ptr$<$ {\bf LookEvent} $>$ {\em look\_\-event})\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_event_handler_fd00be7e6b6992864818853328240765}


handles the given look event by delegating it to \hyperlink{class_robot_control}{RobotControl} 

Definition at line 65 of file event\_\-handler.cc.

Referenced by handle\_\-event().\hypertarget{class_event_handler_f3ab99df81bce4bb5e4981bdcfb10b55}{
\index{EventHandler@{EventHandler}!handle\_\-compute\_\-event@{handle\_\-compute\_\-event}}
\index{handle\_\-compute\_\-event@{handle\_\-compute\_\-event}!EventHandler@{EventHandler}}
\subsubsection[handle\_\-compute\_\-event]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::handle\_\-compute\_\-event (boost::shared\_\-ptr$<$ {\bf ComputeEvent} $>$ {\em compute\_\-event})\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_event_handler_f3ab99df81bce4bb5e4981bdcfb10b55}


handles the given compute event by delegating it to \hyperlink{class_robot_control}{RobotControl} 

Definition at line 71 of file event\_\-handler.cc.

Referenced by handle\_\-event().\hypertarget{class_event_handler_62011b67557528762b8785d3fc47fc3b}{
\index{EventHandler@{EventHandler}!handle\_\-handle\_\-requests\_\-event@{handle\_\-handle\_\-requests\_\-event}}
\index{handle\_\-handle\_\-requests\_\-event@{handle\_\-handle\_\-requests\_\-event}!EventHandler@{EventHandler}}
\subsubsection[handle\_\-handle\_\-requests\_\-event]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::handle\_\-handle\_\-requests\_\-event (boost::shared\_\-ptr$<$ {\bf HandleRequestsEvent} $>$ {\em handle\_\-requests\_\-event})\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_event_handler_62011b67557528762b8785d3fc47fc3b}


handles the given HandleRequests event by doing the following 1. producing a new \hyperlink{class_world_information}{WorldInformation} object by extrapolating and handling requests 2. adding the new \hyperlink{class_world_information}{WorldInformation} object to the history 

Definition at line 83 of file event\_\-handler.cc.

References extrapolate\_\-old\_\-world\_\-information(), and position\_\-request\_\-handler\_\-.

Referenced by handle\_\-event().\hypertarget{class_event_handler_3d6dca0a289ea024322496ea83760cc2}{
\index{EventHandler@{EventHandler}!update\_\-listeners@{update\_\-listeners}}
\index{update\_\-listeners@{update\_\-listeners}!EventHandler@{EventHandler}}
\subsubsection[update\_\-listeners]{\setlength{\rightskip}{0pt plus 5cm}void EventHandler::update\_\-listeners (boost::shared\_\-ptr$<$ Event $>$ {\em event})\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_event_handler_3d6dca0a289ea024322496ea83760cc2}


informs all listeners after each event 

Definition at line 183 of file event\_\-handler.cc.

Referenced by handle\_\-event().\hypertarget{class_event_handler_1795bf1b68f3ed905a99c3e9cbfb3df2}{
\index{EventHandler@{EventHandler}!extrapolate\_\-old\_\-world\_\-information@{extrapolate\_\-old\_\-world\_\-information}}
\index{extrapolate\_\-old\_\-world\_\-information@{extrapolate\_\-old\_\-world\_\-information}!EventHandler@{EventHandler}}
\subsubsection[extrapolate\_\-old\_\-world\_\-information]{\setlength{\rightskip}{0pt plus 5cm}boost::shared\_\-ptr$<$ {\bf WorldInformation} $>$ EventHandler::extrapolate\_\-old\_\-world\_\-information (int {\em time})\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_event_handler_1795bf1b68f3ed905a99c3e9cbfb3df2}


generates a new \hyperlink{class_world_information}{WorldInformation} object by extrapolating it from the newest old one to time t 

Definition at line 138 of file event\_\-handler.cc.

References WorldInformation::markers(), WorldInformation::obstacles(), WorldInformation::robot\_\-data(), and WorldInformation::time().

Referenced by handle\_\-handle\_\-requests\_\-event().

\subsection{Member Data Documentation}
\hypertarget{class_event_handler_57ec7074d3a4d5469ca093c3fab461f3}{
\index{EventHandler@{EventHandler}!position\_\-request\_\-handler\_\-@{position\_\-request\_\-handler\_\-}}
\index{position\_\-request\_\-handler\_\-@{position\_\-request\_\-handler\_\-}!EventHandler@{EventHandler}}
\subsubsection[position\_\-request\_\-handler\_\-]{\setlength{\rightskip}{0pt plus 5cm}boost::shared\_\-ptr$<$VectorRequestHandler$>$ {\bf EventHandler::position\_\-request\_\-handler\_\-}\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_event_handler_57ec7074d3a4d5469ca093c3fab461f3}


\hyperlink{class_request}{Request} Handlers. One for each type of request. 

Definition at line 135 of file event\_\-handler.h.

Referenced by handle\_\-handle\_\-requests\_\-event(), and set\_\-position\_\-request\_\-handler().\hypertarget{class_event_handler_b67300ca48e3809b2dfd428a185053f6}{
\index{EventHandler@{EventHandler}!time\_\-of\_\-last\_\-event\_\-@{time\_\-of\_\-last\_\-event\_\-}}
\index{time\_\-of\_\-last\_\-event\_\-@{time\_\-of\_\-last\_\-event\_\-}!EventHandler@{EventHandler}}
\subsubsection[time\_\-of\_\-last\_\-event\_\-]{\setlength{\rightskip}{0pt plus 5cm}int {\bf EventHandler::time\_\-of\_\-last\_\-event\_\-}\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{class_event_handler_b67300ca48e3809b2dfd428a185053f6}


The time the last event has happened. Used to ensure correct ordering of events. 

Definition at line 148 of file event\_\-handler.h.

Referenced by handle\_\-event().

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
src/EventHandlers/event\_\-handler.h\item 
src/EventHandlers/event\_\-handler.cc\end{CompactItemize}
